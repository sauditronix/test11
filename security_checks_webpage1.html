<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Ù…Ù†ØµØ© Ø®Ø¯Ù…Ø§Øª Ø§Ù„ØªÙÙ‚Ø¯ Ø§Ù„Ø£Ù…Ù†ÙŠØ©</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    :root {
      --primary: #0055a5;
      --primary-dark: #003d78;
      --bg: #f3f6fb;
      --card-bg: #ffffff;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Tahoma, Arial;
      background: linear-gradient(180deg, #e3edf9, #f7f9fc);
      color: #222;
    }

    .app-shell {
      max-width: 480px;
      margin: 0 auto;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      background: var(--bg);
      box-shadow: 0 0 25px rgba(0,0,0,0.08);
    }

    header {
      text-align: center;
      padding: 16px 12px 8px;
      background: #ffffffcc;
      backdrop-filter: blur(10px);
      border-bottom: 1px solid #dde4f0;
      position: sticky;
      top: 0;
      z-index: 10;
    }

    header img {
      width: 110px;
      margin-bottom: 6px;
    }

    header h1 {
      margin: 0;
      font-size: 18px;
      color: var(--primary-dark);
    }

    header p {
      margin: 4px 0 0;
      font-size: 12px;
      color: #555;
    }

    main {
      flex: 1;
      padding: 12px;
    }

    .screen {
      display: none;
      animation: fadeIn 0.2s ease-out;
    }

    .screen.active {
      display: block;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(6px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .service-card {
      background: var(--card-bg);
      border-radius: 16px;
      padding: 14px 14px 16px;
      box-shadow: 0 6px 16px rgba(0,0,0,0.06);
      margin-bottom: 16px;
    }

    .service-card h2 {
      margin: 0 0 4px;
      font-size: 18px;
      color: var(--primary-dark);
    }

    .service-card small {
      display: block;
      margin-bottom: 8px;
      font-size: 11px;
      color: #777;
    }

    .service-list {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-top: 12px;
    }

    .service-btn {
      width: 100%;
      border: none;
      border-radius: 14px;
      padding: 12px 12px;
      font-size: 15px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: #ffffff;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
      cursor: pointer;
      text-align: right;
    }

    .service-btn span.title {
      font-weight: 600;
      color: var(--primary-dark);
    }

    .service-btn span.subtitle {
      display: block;
      font-size: 12px;
      color: #777;
    }

    .service-btn .icon {
      font-size: 20px;
      margin-left: 4px;
    }

    label {
      display: block;
      margin-top: 10px;
      font-size: 13px;
      font-weight: 500;
    }

    input, select, textarea {
      width: 100%;
      margin-top: 4px;
      padding: 9px 10px;
      border-radius: 10px;
      border: 1px solid #c7d3e6;
      font-size: 14px;
      background: #fdfdff;
    }

    input:focus, select:focus, textarea:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 2px rgba(0,85,165,0.12);
    }

    input[readonly] {
      background: #eef2fb;
      color: #444;
    }

    textarea {
      min-height: 70px;
      resize: vertical;
    }

    .btn {
      border: none;
      border-radius: 999px;
      padding: 10px 16px;
      font-size: 14px;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
    }

    .btn-primary {
      background: var(--primary);
      color: #fff;
      width: 100%;
      margin-top: 14px;
    }

    .btn-primary:active {
      background: var(--primary-dark);
      transform: translateY(1px);
    }

    .btn-ghost {
      background: transparent;
      color: var(--primary-dark);
      padding-inline: 8px;
    }

    .top-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 6px;
    }

    .preview-img {
      margin-top: 8px;
      max-width: 100%;
      border-radius: 12px;
      border: 1px solid #d2d7e5;
      display: none;
    }

    .success-msg {
      margin-top: 8px;
      font-size: 12px;
      color: #0a7c2f;
    }

    .hint {
      font-size: 11px;
      color: #888;
      margin-top: 4px;
    }

    .kpi-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 10px;
      margin-top: 10px;
      font-size: 13px;
    }

    .kpi-card {
      background: #f7f9ff;
      border-radius: 12px;
      padding: 10px;
      border: 1px solid #dde4f7;
    }

    .kpi-label {
      font-weight: 600;
      color: #334;
    }

    .kpi-value {
      display: block;
      margin-top: 4px;
      font-size: 18px;
      font-weight: 700;
      color: var(--primary-dark);
    }

    footer {
      text-align: center;
      font-size: 10px;
      padding: 6px 8px 10px;
      color: #777;
    }
  </style>
</head>
<body>
  <div class="app-shell">
    <header>
      <img src="https://www.bog.gov.sa/_layouts/15/BOG/asset/img/BOG_Logo.svg" alt="Ø´Ø¹Ø§Ø± Ø§Ù„Ø¬Ù‡Ø©">
      <h1>Ù…Ù†ØµØ© Ø®Ø¯Ù…Ø§Øª Ø§Ù„ØªÙÙ‚Ø¯ Ø§Ù„Ø£Ù…Ù†ÙŠØ©</h1>
      <p>ØªØ³Ø¬ÙŠÙ„ Ø¬ÙˆÙ„Ø§Øª Ø§Ù„ØªÙÙ‚Ø¯ Ù…ÙŠØ¯Ø§Ù†ÙŠØ§Ù‹ Ø¹Ø¨Ø± Ø§Ù„Ø¬ÙˆØ§Ù„</p>
    </header>

    <main>
      <!-- Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
      <section id="homeScreen" class="screen active">
        <div class="service-card">
          <h2>Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©</h2>
          <small>Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„ØªÙÙ‚Ø¯ Ø£Ùˆ Ø§Ø³ØªØ¹Ø±Ø¶ Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¤Ø´Ø±Ø§Øª</small>
          <div class="service-list">
            <button class="service-btn" onclick="openScreen('dashboardScreen')">
              <div>
                <span class="title">Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¤Ø´Ø±Ø§Øª (KPI)</span>
                <span class="subtitle">Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¬ÙˆÙ„Ø§Øª Ø§Ù„Ù…Ø³Ø¬Ù„Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø¬Ù‡Ø§Ø²</span>
              </div>
              <div class="icon">ğŸ“Š</div>
            </button>

            <button class="service-btn" onclick="openScreen('parkingScreen')">
              <div>
                <span class="title">ØªÙÙ‚Ø¯ Ù…ÙˆØ§Ù‚Ù Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª</span>
                <span class="subtitle">Ø­Ø§Ù„Ø© Ø§Ù„Ù…ÙˆØ§Ù‚ÙØŒ Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ù…ÙˆØ§Ù‚Ù ÙˆÙ„ÙˆØ­Ø§Øª Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª</span>
              </div>
              <div class="icon">ğŸš—</div>
            </button>

            <button class="service-btn" onclick="openScreen('flagScreen')">
              <div>
                <span class="title">ØªÙÙ‚Ø¯ Ø§Ù„Ø¹Ù„Ù…</span>
                <span class="subtitle">Ø§Ù„Ø¹Ù„Ù…ØŒ Ø§Ù„Ø³Ø§Ø±ÙŠØ©ØŒ ÙˆØ§Ù„Ø¥Ø¶Ø§Ø¡Ø© Ø§Ù„Ù…Ø­ÙŠØ·Ø©</span>
              </div>
              <div class="icon">ğŸš©</div>
            </button>

            <button class="service-btn" onclick="openScreen('officeScreen')">
              <div>
                <span class="title">ØªÙÙ‚Ø¯ Ø§Ù„Ù…ÙƒØ§ØªØ¨</span>
                <span class="subtitle">Ø§Ù„Ø£Ø¨ÙˆØ§Ø¨ØŒ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©ØŒ ÙˆØ¯Ø±Ø¬Ø© Ø§Ù„Ø£Ù…Ø§Ù†</span>
              </div>
              <div class="icon">ğŸ¢</div>
            </button>
          </div>
        </div>
      </section>

      <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ -->
      <section id="dashboardScreen" class="screen">
        <div class="service-card">
          <div class="top-row">
            <button class="btn btn-ghost" onclick="openScreen('homeScreen')">â—€ Ø±Ø¬ÙˆØ¹</button>
            <h2>Ù„ÙˆØ­Ø© Ù…Ø¤Ø´Ø±Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡ (KPI)</h2>
          </div>
          <small>Ø§Ù„Ù…Ø¤Ø´Ø±Ø§Øª ØªØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø¬ÙˆÙ„Ø§Øª Ø§Ù„Ù…Ø®Ø²Ù†Ø© Ù…Ø­Ù„ÙŠØ§Ù‹ ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ø¬Ù‡Ø§Ø²</small>
          <div class="kpi-grid">
            <div class="kpi-card">
              <span class="kpi-label">Ø¹Ø¯Ø¯ Ø¬ÙˆÙ„Ø§Øª ØªÙÙ‚Ø¯ Ø§Ù„Ù…ÙˆØ§Ù‚Ù</span>
              <span class="kpi-value" id="kpiParking">0</span>
            </div>
            <div class="kpi-card">
              <span class="kpi-label">Ø¹Ø¯Ø¯ Ø¬ÙˆÙ„Ø§Øª ØªÙÙ‚Ø¯ Ø§Ù„Ø¹Ù„Ù…</span>
              <span class="kpi-value" id="kpiFlag">0</span>
            </div>
            <div class="kpi-card">
              <span class="kpi-label">Ø¹Ø¯Ø¯ Ø¬ÙˆÙ„Ø§Øª ØªÙÙ‚Ø¯ Ø§Ù„Ù…ÙƒØ§ØªØ¨</span>
              <span class="kpi-value" id="kpiOffice">0</span>
            </div>
            <div class="kpi-card">
              <span class="kpi-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¬ÙˆÙ„Ø§Øª</span>
              <span class="kpi-value" id="kpiTotal">0</span>
            </div>
          </div>
        </div>
      </section>

      <!-- ØªÙÙ‚Ø¯ Ù…ÙˆØ§Ù‚Ù Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª -->
      <section id="parkingScreen" class="screen">
        <div class="service-card">
          <div class="top-row">
            <button class="btn btn-ghost" onclick="openScreen('homeScreen')">â—€ Ø±Ø¬ÙˆØ¹</button>
            <h2>ØªÙÙ‚Ø¯ Ù…ÙˆØ§Ù‚Ù Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª</h2>
          </div>
          <small>Ø³Ø¬Ù„ Ø­Ø§Ù„Ø© Ø§Ù„Ù…ÙˆØ§Ù‚Ù ÙˆØ§Ù„Ù…Ø±ÙƒØ¨Ø§Øª Ù…Ø¹ ØªÙˆØ«ÙŠÙ‚ ÙˆÙ‚Øª Ø§Ù„Ø²ÙŠØ§Ø±Ø©</small>

          <form id="parkingForm">
            <label>Ø§Ø³Ù… Ø§Ù„Ù…ÙˆØ¸Ù (Ø§Ù„Ù…ØªÙÙ‚Ø¯)</label>
            <input type="text" name="inspector_name" required>

            <label>Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ÙˆØ¸ÙŠÙÙŠ</label>
            <input type="text" name="employee_id" required>

            <label>Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„ÙˆÙ‚Øª (ÙŠØ­Ø¯Ø¯ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ Ø§Ù„Ø­ÙØ¸)</label>
            <input type="text" id="parkingTime" name="datetime" readonly>

            <label>Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆÙ‚Ù</label>
            <input type="text" name="slot_number" placeholder="Ù…Ø«Ø§Ù„: P12">

            <label>Ø±Ù‚Ù… Ù„ÙˆØ­Ø© Ø§Ù„Ø³ÙŠØ§Ø±Ø©</label>
            <input type="text" name="plate_number" placeholder="Ù…Ø«Ø§Ù„: Ø£ Ø¨ Ø¬ 1234">

            <label>Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…ÙˆØ§Ù‚Ù</label>
            <input type="text" name="parking_area" placeholder="Ù…Ø«Ø§Ù„: Ø§Ù„Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ø¬Ù†ÙˆØ¨ÙŠØ© - Ø³Ø§Ø­Ø© A">

            <label>Ø­Ø§Ù„Ø© Ø§Ù„Ù…ÙˆØ§Ù‚Ù</label>
            <select name="parking_status">
              <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø­Ø§Ù„Ø©</option>
              <option>Ø·Ø¨ÙŠØ¹ÙŠ</option>
              <option>Ø§Ø²Ø¯Ø­Ø§Ù…</option>
              <option>Ù…ØºÙ„Ù‚</option>
              <option>ÙˆØ¬ÙˆØ¯ Ù…Ø±ÙƒØ¨Ø§Øª Ù…Ù‡Ø¬ÙˆØ±Ø©</option>
            </select>

            <label>ØµÙˆØ±Ø© Ù…Ù† Ø§Ù„Ù…ÙˆÙ‚Ø¹ (Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§)</label>
            <input type="file" accept="image/*" capture="environment" onchange="previewImage(this, 'parkingImg')">
            <img id="parkingImg" class="preview-img" alt="Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØµÙˆØ±Ø©">
            <div class="hint">Ø§Ù„ØµÙˆØ±Ø© Ø§Ø®ØªÙŠØ§Ø±ÙŠØ©ØŒ ÙˆØªØ³ØªØ®Ø¯Ù… ÙÙ‚Ø· Ù„Ù„ØªÙˆØ«ÙŠÙ‚ Ø§Ù„Ø¨ØµØ±ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø¬Ù‡Ø§Ø².</div>

            <label>Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©</label>
            <textarea name="notes" placeholder="Ø£Ø¶Ù Ø£ÙŠ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø­ÙˆÙ„ Ø§Ù„Ù…ÙˆØ§Ù‚Ù Ø£Ùˆ Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª"></textarea>

            <button type="submit" class="btn btn-primary">ğŸ’¾ Ø­ÙØ¸ Ø¬ÙˆÙ„Ø© ØªÙÙ‚Ø¯ Ø§Ù„Ù…ÙˆØ§Ù‚Ù</button>
            <div class="success-msg" id="parkingMsg"></div>
          </form>
        </div>
      </section>

      <!-- ØªÙÙ‚Ø¯ Ø§Ù„Ø¹Ù„Ù… -->
      <section id="flagScreen" class="screen">
        <div class="service-card">
          <div class="top-row">
            <button class="btn btn-ghost" onclick="openScreen('homeScreen')">â—€ Ø±Ø¬ÙˆØ¹</button>
            <h2>ØªÙÙ‚Ø¯ Ø§Ù„Ø¹Ù„Ù…</h2>
          </div>
          <small>Ù…ØªØ§Ø¨Ø¹Ø© Ø­Ø§Ù„Ø© Ø§Ù„Ø¹Ù„Ù… ÙˆØ§Ù„Ø³Ø§Ø±ÙŠØ© ÙˆØ§Ù„Ø¥Ø¶Ø§Ø¡Ø© Ø§Ù„Ù…Ø­ÙŠØ·Ø©</small>

          <form id="flagForm">
            <label>Ø§Ø³Ù… Ø§Ù„Ù…ÙˆØ¸Ù (Ø§Ù„Ù…ØªÙÙ‚Ø¯)</label>
            <input type="text" name="inspector_name" required>

            <label>Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ÙˆØ¸ÙŠÙÙŠ</label>
            <input type="text" name="employee_id" required>

            <label>Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„ÙˆÙ‚Øª (ÙŠØ­Ø¯Ø¯ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ Ø§Ù„Ø­ÙØ¸)</label>
            <input type="text" id="flagTime" name="datetime" readonly>

            <label>Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¹Ù„Ù…</label>
            <input type="text" name="flag_location" placeholder="Ù…Ø«Ø§Ù„: Ù…Ø¨Ù†Ù‰ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ - Ø§Ù„Ù…Ø¯Ø®Ù„">

            <label>Ø­Ø§Ù„Ø© Ø§Ù„Ø¹Ù„Ù…</label>
            <select name="flag_status">
              <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø­Ø§Ù„Ø©</option>
              <option>Ù…Ø±ÙÙˆØ¹ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­</option>
              <option>ØºÙŠØ± Ù…Ø±ÙÙˆØ¹</option>
              <option>Ù…Ù…Ø²Ù‚ / ØªØ§Ù„Ù</option>
              <option>Ù…ØªØ³Ø® ÙˆÙŠØ­ØªØ§Ø¬ ØªÙ†Ø¸ÙŠÙ</option>
            </select>

            <label>Ø­Ø§Ù„Ø© Ø§Ù„Ø³Ø§Ø±ÙŠØ© / Ø§Ù„Ø¥Ø¶Ø§Ø¡Ø©</label>
            <select name="pole_status">
              <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø­Ø§Ù„Ø©</option>
              <option>Ø³Ù„ÙŠÙ…Ø©</option>
              <option>Ø®Ù„Ù„ ÙÙŠ Ø§Ù„Ø¥Ø¶Ø§Ø¡Ø©</option>
              <option>Ø®Ù„Ù„ ÙÙŠ Ø§Ù„Ø³Ø§Ø±ÙŠØ©</option>
            </select>

            <label>ØµÙˆØ±Ø© Ù…Ù† Ø§Ù„Ù…ÙˆÙ‚Ø¹ (Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§)</label>
            <input type="file" accept="image/*" capture="environment" onchange="previewImage(this, 'flagImg')">
            <img id="flagImg" class="preview-img" alt="Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØµÙˆØ±Ø©">

            <label>Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©</label>
            <textarea name="notes" placeholder="Ø£Ø¶Ù Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø­ÙˆÙ„ Ø§Ù„Ø¹Ù„Ù… Ø£Ùˆ Ù…Ø­ÙŠØ·Ù‡ Ø§Ù„Ø£Ù…Ù†ÙŠ"></textarea>

            <button type="submit" class="btn btn-primary">ğŸ’¾ Ø­ÙØ¸ Ø¬ÙˆÙ„Ø© ØªÙÙ‚Ø¯ Ø§Ù„Ø¹Ù„Ù…</button>
            <div class="success-msg" id="flagMsg"></div>
          </form>
        </div>
      </section>

      <!-- ØªÙÙ‚Ø¯ Ø§Ù„Ù…ÙƒØ§ØªØ¨ -->
      <section id="officeScreen" class="screen">
        <div class="service-card">
          <div class="top-row">
            <button class="btn btn-ghost" onclick="openScreen('homeScreen')">â—€ Ø±Ø¬ÙˆØ¹</button>
            <h2>ØªÙÙ‚Ø¯ Ø§Ù„Ù…ÙƒØ§ØªØ¨</h2>
          </div>
          <small>Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù…ÙƒØ§ØªØ¨ ÙˆØ³Ù„Ø§Ù…Ø© Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© ÙˆØ¯Ø±Ø¬Ø© Ø§Ù„Ø£Ù…Ø§Ù†</small>

          <form id="officeForm">
            <label>Ø§Ø³Ù… Ø§Ù„Ù…ÙˆØ¸Ù (Ø§Ù„Ù…ØªÙÙ‚Ø¯)</label>
            <input type="text" name="inspector_name" required>

            <label>Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ÙˆØ¸ÙŠÙÙŠ</label>
            <input type="text" name="employee_id" required>

            <label>Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„ÙˆÙ‚Øª (ÙŠØ­Ø¯Ø¯ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ Ø§Ù„Ø­ÙØ¸)</label>
            <input type="text" id="officeTime" name="datetime" readonly>

            <label>Ø±Ù‚Ù… Ø§Ù„Ù…ÙƒØªØ¨ / Ø§Ù„Ù…Ø¨Ù†Ù‰</label>
            <input type="text" name="office_number" placeholder="Ù…Ø«Ø§Ù„: Ù…Ø¨Ù†Ù‰ B - Ù…ÙƒØªØ¨ 203">

            <label>Ø­Ø§Ù„Ø© Ø§Ù„Ø£Ø¨ÙˆØ§Ø¨</label>
            <select name="door_status">
              <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø­Ø§Ù„Ø©</option>
              <option>Ù…ØºÙ„Ù‚Ø© ÙˆÙ…Ø¤Ù…Ù†Ø©</option>
              <option>Ù…ÙØªÙˆØ­Ø© Ø¨Ø¯ÙˆÙ† ØªÙˆØ§Ø¬Ø¯ Ù…ÙˆØ¸ÙÙŠÙ†</option>
              <option>Ù‚ÙÙ„ ØªØ§Ù„Ù / Ù…ÙƒØ³ÙˆØ±</option>
            </select>

            <label>Ø­Ø§Ù„Ø© Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©</label>
            <select name="electric_status">
              <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø­Ø§Ù„Ø©</option>
              <option>Ù…Ø·ÙØ£Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„</option>
              <option>ÙˆØ¬ÙˆØ¯ Ø£Ø¬Ù‡Ø²Ø© ØªØ¹Ù…Ù„ Ø¨Ø¯ÙˆÙ† Ù…Ø¨Ø±Ø±</option>
              <option>Ø§Ø´ØªØ¨Ø§Ù‡ ÙÙŠ ØªÙˆØµÙŠÙ„Ø§Øª ØºÙŠØ± Ø¢Ù…Ù†Ø©</option>
            </select>

            <label>Ø¯Ø±Ø¬Ø© Ø£Ù…Ø§Ù† Ø§Ù„Ù…ÙƒØªØ¨</label>
            <select name="security_level">
              <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø¯Ø±Ø¬Ø©</option>
              <option>Ù…Ù†Ø®ÙØ¶</option>
              <option>Ù…ØªÙˆØ³Ø·</option>
              <option>Ù…Ø±ØªÙØ¹</option>
            </select>

            <label>ØµÙˆØ±Ø© Ù…Ù† Ø§Ù„Ù…ÙˆÙ‚Ø¹ (Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§)</label>
            <input type="file" accept="image/*" capture="environment" onchange="previewImage(this, 'officeImg')">
            <img id="officeImg" class="preview-img" alt="Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØµÙˆØ±Ø©">

            <label>Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©</label>
            <textarea name="notes" placeholder="Ø£Ø¶Ù Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø­ÙˆÙ„ Ø§Ù„Ù…ÙƒØ§ØªØ¨ Ø£Ùˆ Ø§Ù„Ù…Ù„ÙØ§Øª Ø£Ùˆ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©"></textarea>

            <button type="submit" class="btn btn-primary">ğŸ’¾ Ø­ÙØ¸ Ø¬ÙˆÙ„Ø© ØªÙÙ‚Ø¯ Ø§Ù„Ù…ÙƒØ§ØªØ¨</button>
            <div class="success-msg" id="officeMsg"></div>
          </form>
        </div>
      </section>
    </main>

    <footer>
      Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØªÙØ®Ø²Ù† Ù…Ø­Ù„ÙŠØ§Ù‹ ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­ Ø­Ø§Ù„ÙŠØ§Ù‹. ÙŠÙ…ÙƒÙ† Ø±Ø¨Ø·Ù‡Ø§ Ù„Ø§Ø­Ù‚Ø§Ù‹ Ø¨Ù†Ø¸Ø§Ù… ØªÙÙ‚Ø¯ Ù…Ø±ÙƒØ²ÙŠ ÙˆÙ‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª.
    </footer>
  </div>

  <script>
    function openScreen(id) {
      document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
      const screen = document.getElementById(id);
      if (screen) screen.classList.add('active');

      const timeMap = {
        parkingScreen: 'parkingTime',
        flagScreen: 'flagTime',
        officeScreen: 'officeTime'
      };
      const timeId = timeMap[id];
      if (timeId) {
        const el = document.getElementById(timeId);
        if (el) el.value = nowString();
      }

      if (id === 'dashboardScreen') {
        updateDashboard();
      }
    }

    function previewImage(input, imgId) {
      const file = input.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = () => {
        const img = document.getElementById(imgId);
        if (!img) return;
        img.src = reader.result;
        img.style.display = 'block';
      };
      reader.readAsDataURL(file);
    }

    function nowString() {
      return new Date().toLocaleString('ar-SA');
    }

    function handleForm(formId, storageKey, timeInputId, msgId) {
      const form = document.getElementById(formId);
      const msg = document.getElementById(msgId);
      const timeInput = document.getElementById(timeInputId);

      if (!form) return;

      form.addEventListener('submit', function (e) {
        e.preventDefault();

        const ts = nowString();
        if (timeInput) timeInput.value = ts;

        const data = {};
        const fields = form.querySelectorAll('input, select, textarea');
        fields.forEach(el => {
          if (!el.name) return;
          if (el.type === 'file') return;
          data[el.name] = el.value;
        });

        const list = JSON.parse(localStorage.getItem(storageKey) || '[]');
        list.push(data);
        localStorage.setItem(storageKey, JSON.stringify(list));

        if (msg) {
          msg.textContent = 'ØªÙ… Ø­ÙØ¸ Ø¬ÙˆÙ„Ø© Ø§Ù„ØªÙÙ‚Ø¯ Ø¨Ù†Ø¬Ø§Ø­ ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ø¬Ù‡Ø§Ø² (' + ts + ').';
          setTimeout(() => { msg.textContent = ''; }, 4000);
        }

        form.reset();
        if (timeInput) timeInput.value = '';
        const imgPreview = form.querySelector('.preview-img');
        if (imgPreview) {
          imgPreview.style.display = 'none';
          imgPreview.src = '';
        }
      });
    }

    function updateDashboard() {
      const p = JSON.parse(localStorage.getItem('parking_checks') || '[]').length;
      const f = JSON.parse(localStorage.getItem('flag_checks') || '[]').length;
      const o = JSON.parse(localStorage.getItem('office_checks') || '[]').length;
      const total = p + f + o;

      const setText = (id, value) => {
        const el = document.getElementById(id);
        if (el) el.textContent = value;
      };

      setText('kpiParking', p);
      setText('kpiFlag', f);
      setText('kpiOffice', o);
      setText('kpiTotal', total);
    }

    // ØªÙØ¹ÙŠÙ„ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù†Ù…Ø§Ø°Ø¬
    handleForm('parkingForm', 'parking_checks', 'parkingTime', 'parkingMsg');
    handleForm('flagForm', 'flag_checks', 'flagTime', 'flagMsg');
    handleForm('officeForm', 'office_checks', 'officeTime', 'officeMsg');
  </script>
</body>
</html>
